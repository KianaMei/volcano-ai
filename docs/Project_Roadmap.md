# Project Roadmap (é¡¹ç›®è·¯çº¿å›¾)

> æœ¬æ–‡æ¡£æ—¨åœ¨æ˜ç¡® **Volcano Chat** é¡¹ç›®çš„åˆ†é˜¶æ®µæ¼”è¿›è·¯çº¿ï¼Œç¡®ä¿ä»ç°æœ‰ MVP çŠ¶æ€å¹³æ»‘è¿‡æ¸¡åˆ°æ·±åº¦é›†æˆ Coze é«˜çº§å·¥ä½œæµèƒ½åŠ›çš„æœ€ç»ˆå½¢æ€ã€‚

---

## ğŸ“… å¯¹ç…§è¡¨

| é˜¶æ®µ | æ ¸å¿ƒç›®æ ‡ | å…³é”®è¯ | çŠ¶æ€ |
| :--- | :--- | :--- | :--- |
| **Phase 1** | **åŸºç¡€å¯¹è¯ä¸å®¡è®¡ (MVP)** | æµå¼å“åº”, åŸºç¡€æ—¥å¿—, ä¼šè¯ç®¡ç† | âœ… å·²å®ç°/å¼€å‘ä¸­ |
| **Phase 2** | **Coze å·¥ä½œæµæ·±åº¦é›†æˆ** | é—®ç­”èŠ‚ç‚¹, è¾“å…¥èŠ‚ç‚¹, å¤šæ¨¡æ€äº¤äº’ | ğŸš€ è§„åˆ’ä¸­ |

---

## ğŸš© ç¬¬ä¸€é˜¶æ®µ (Phase 1): åŸºç¡€æ¶æ„ä¸å¯¹è¯èƒ½åŠ›

æœ¬é˜¶æ®µä¸»è¦é€šè¿‡åˆ©ç”¨ Coze åŸºç¡€ API èƒ½åŠ›ï¼Œæ­å»ºä¼ä¸šçº§å¯¹è¯ä¸å®¡è®¡ç³»ç»Ÿçš„éª¨æ¶ã€‚**ç›®å‰é¡¹ç›®å·²æ¶µç›–çš„å†…å®¹ä¸»è¦é›†ä¸­åœ¨æ­¤é˜¶æ®µã€‚**

### 1. æ ¸å¿ƒå¯¹è¯ (Core Chat)
- [x] **æµå¼å“åº” (SSE)**: å®ç°ç±»ä¼¼æ‰“å­—æœºçš„å®æ—¶å›å¤ä½“éªŒï¼Œé¦–å­—ä½å»¶è¿Ÿã€‚
- [x] **åŸºç¡€ä¼šè¯ç®¡ç†**: æ”¯æŒåˆ›å»ºã€åˆ‡æ¢ä¼šè¯ï¼Œç»´æŒä¸Šä¸‹æ–‡ä¸€è‡´æ€§ã€‚
- [x] **å¼‚å¸¸ç†”æ–­**: ç½‘ç»œæŠ–åŠ¨æˆ–æœåŠ¡å¼‚å¸¸æ—¶çš„ç”¨æˆ·å‹å¥½æç¤ºã€‚
- [x] **è¯­éŸ³åŒå·¥ (Multimodal Voice)**:
    - **ASR**: ç½‘é¡µç«¯å½•éŸ³ç›´æ¥è½¬æ–‡å­—å‘é€ã€‚
    - **TTS**: Bot å›å¤å†…å®¹è‡ªåŠ¨æœ—è¯»ã€‚

### 2. å®¡è®¡ä¸æ—¥å¿— (Audit & Logging)
- [x] **å…¨é‡å½’æ¡£**: è‡ªåŠ¨è®°å½• `User -> Bot` çš„é—®ç­”å¯¹ (QA Pairs)ã€‚
- [x] **å…ƒæ•°æ®è¿½è¸ª**: è®°å½• `UserUUID`, `SessionID`, `Timestamp`ã€‚
- [x] **æ•°æ®æŒä¹…åŒ–**: åç«¯æœåŠ¡å¼‚æ­¥å…¥åº“ (MySQL)ã€‚

### 3. ç³»ç»Ÿå·¥ç¨‹ (Engineering)
- [x] **å‰åç«¯åˆ†ç¦»**: Nuxt 3 (Client) + Spring Boot (Server)ã€‚
- [x] **ç»„ä»¶åŒ–è®¾è®¡**: åŸºäº Arco Design çš„ç°ä»£åŒ–èŠå¤©ç•Œé¢ã€‚

---

## ğŸš€ ç¬¬äºŒé˜¶æ®µ (Phase 2): Coze å·¥ä½œæµæ·±åº¦é›†æˆ

æœ¬é˜¶æ®µå°†å¼•å…¥ Coze Workflow çš„é«˜çº§èŠ‚ç‚¹èƒ½åŠ›ï¼Œæ”¯æŒæ›´å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å’Œäº¤äº’å½¢æ€ã€‚æŠ€æœ¯å®ç°å°†ä¸¥æ ¼éµå¾ª [Workflow Chat API](/v1/workflows/chat) è§„èŒƒã€‚

### 1. å¤æ‚èŠ‚ç‚¹äº¤äº’æœºåˆ¶ (Node Interaction)
åˆ©ç”¨ `additional_messages` å­—æ®µå¤„ç†å·¥ä½œæµçš„ä¸­æ–­ä¸æ¢å¤ï¼Œæ”¯æŒ **é—®ç­”èŠ‚ç‚¹** å’Œ **è¾“å…¥èŠ‚ç‚¹**ã€‚

- [ ] **æœºåˆ¶å®ç°**:
    - ç›‘å¬ `conversation.chat.requires_action` äº‹ä»¶ï¼Œè¯†åˆ«å·¥ä½œæµæŒ‚èµ·çŠ¶æ€ã€‚
    - ç”¨æˆ·åœ¨ UI è¾“å…¥æ•°æ®åï¼Œå†æ¬¡è°ƒç”¨ `/v1/workflows/chat`ã€‚
    - **å…³é”®å‚æ•°**: å°†ç”¨æˆ·è¾“å…¥å°è£…åœ¨ `additional_messages` æ•°ç»„ä¸­ (Role=`user`, Type=`question`) å›ä¼ ç»™å·¥ä½œæµä»¥æ¢å¤æ‰§è¡Œã€‚
- [ ] **è¾“å…¥èŠ‚ç‚¹ (Input Node)**:
    - å¯¹äºç»“æ„åŒ–å‚æ•°è¾“å…¥ï¼Œé€šè¿‡ `parameters` ä¼ é€’é¢„ç½®å˜é‡ã€‚
    - å¯¹äºæ–‡æœ¬è¾“å…¥ï¼Œé€šè¿‡ `additional_messages` ä¼ é€’ã€‚

### 2. å¤šæ¨¡æ€æ–‡ä»¶å¤„ç† (Multimodal File Handling)
å®ç°æ–‡ä»¶ä¸å›¾ç‰‡çš„ä¸Šä¼ æµç¨‹ï¼Œæ”¯æŒåœ¨å¯¹è¯ä¸­å¼•ç”¨æ–‡ä»¶ã€‚

- [ ] **æ–‡ä»¶ä¸Šä¼ æµç¨‹**:
    - **API**: `/v1/files/upload` (Content-Type: `multipart/form-data`)ã€‚
    - **å­˜å‚¨**: è·å–è¿”å›çš„ `file_id` (æœ‰æ•ˆæœŸ 3 ä¸ªæœˆ)ã€‚
- [ ] **å¯¹è¯å¼•ç”¨**:
    - åœ¨ `/v1/workflows/chat` è¯·æ±‚ä¸­ï¼Œé€šè¿‡ `parameters` æˆ– `object_string` ç±»å‹çš„æ¶ˆæ¯å†…å®¹ä¼ é€’ `file_id`ã€‚
    - ç¤ºä¾‹: `{"image": "{\"file_id\":\"<FILE_ID>\"}"}`ã€‚



---

## é™„å½•

- **Coze å¼€å‘æŒ‡å—**: [Workflow Chat API](https://www.coze.cn/open/docs/developer_guides/workflow_chat)
- **æœ¬åœ°è®¾è®¡æ–‡æ¡£**: `docs/Software_Design_Specification.md`
